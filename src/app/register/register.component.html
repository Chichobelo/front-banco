<div class="register-wrapper d-flex align-items-center justify-content-center">
  <div class="register-card shadow-sm rounded-4 p-2">
    <h3 class="text-center fw-bold mb-4 text-primary">Crear usuario</h3>

    <!-- Indicador de pasos -->
    <div class="steps d-flex justify-content-center align-items-center mb-3">
      <div class="step" [class.active]="step >= 1">
        <div class="circle">1</div>
        <p class="small mb-0 fw-semibold">Ingresa tus datos</p>
      </div>
      <div class="line" [class.filled]="step === 2"></div>
      <div class="step" [class.active]="step === 2">
        <div class="circle">2</div>
        <p class="small mb-0 fw-semibold">Crea tu usuario</p>
      </div>
    </div>

    <!-- Sugerencia global -->
    <div class="alert-tip d-flex align-items-start gap-2 mb-3">
      <i class="bi bi-exclamation-circle-fill"></i>
      <small class="m-0">Todos los campos son <span class="fw-semibold">obligatorios</span>.</small>
    </div>

    <!-- PASO 1 -->
    <form *ngIf="step === 1" (ngSubmit)="onSubmit()" #form1="ngForm">
      <div class="row g-3">
        <div class="col-md-6">
          <label class="form-label">Tipo de documento</label>
          <select class="form-select" required [(ngModel)]="user.tipoDoc" name="tipoDoc">
            <option value="">Selecciona</option>
            <option value="CC">Cédula de ciudadanía</option>
            <option value="TI">Tarjeta de identidad</option>
            <option value="CE">Cédula de extranjería</option>
          </select>
        </div>

        <div class="col-md-6">
          <label class="form-label">Número de documento</label>
          <input type="text" class="form-control" required [(ngModel)]="user.numeroDoc" name="numeroDoc" />
        </div>
      </div>

      <div class="mt-3">
        <label class="form-label">Nombre completo</label>
        <input type="text" class="form-control" required [(ngModel)]="user.nombreCompleto" name="nombreCompleto" />
      </div>

      <div class="mt-4 d-grid gap-2">
        <button type="submit" class="btn btn-primary" [disabled]="!form1.valid">Continuar</button>
      </div>
    </form>

    <!-- PASO 2 -->
    <form *ngIf="step === 2" (ngSubmit)="onSubmit()" #form2="ngForm">
      <div class="mt-3">
        <label class="form-label">Usuario</label>
        <input type="text" class="form-control" required [(ngModel)]="user.username" name="username" />
      </div>

      <div class="mt-3">
        <label class="form-label">Contraseña</label>
        <input type="password" class="form-control" required [(ngModel)]="user.password" name="password" />
      </div>

      <div class="mt-4 d-grid gap-2">
        <button type="submit" class="btn btn-primary" [disabled]="!form2.valid">Registrar</button>
        <button type="button" class="btn btn-link text-secondary" (click)="cancel()">Volver</button>
      </div>
    </form>
  </div>
</div>
